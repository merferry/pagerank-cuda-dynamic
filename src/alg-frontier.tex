\begin{algorithm}[!hbt]
\caption{\su{Our} parallel Dynamic Frontier (DF*) PageRank.}
\label{alg:frontier}
\begin{algorithmic}[1]
\Require{$G^{t-1}, G^t$: Previous, current input graph}
\Require{$\Delta^{t-}, \Delta^{t+}$: Edge deletions and insertions (input)}
\Require{$R^{t-1}, R$: Previous, current rank vector}
\Ensure{$\Delta r$: Change in rank of a vertex}
\Ensure{$\Delta R$: $L\infty$-norm between previous and current ranks}
\Ensure{$\tau, \tau_f, \tau_p$: Iteration, frontier, prune tolerance}
\Ensure{$\alpha$: Damping factor}

\Statex

\Function{dynamicFrontier}{$G^t, G^{t\ (T)}, \Delta^{t-}, \Delta^{t+}, R^{t-1}$}
  \State $R \gets R_{new} \gets R^{t-1}$ \label{alg:frontier--initialize}
  \State $\rhd$ Partition vertex IDs by out- and in-degree 
  \State $\{P, N_P\} \gets partition(G^t, D_P)$
  \State $\{P^T, N^T_P\} \gets partition(G^{t\ (T)}, D_P)$
  \State $\rhd$ Mark initial affected
  \State $\{V_A, N_A\} \gets initialAffected(G^t, \Delta^{t-}, \Delta^{t+})$
  \State $expandAffected(V_A, N_A, G^t, P, N_P, P^T, N^T_P)$
  \State $\rhd$ Perform PageRank iterations
  \ForAll{$i \in [0 .. MAX\_ITERATIONS)$} \label{alg:frontier--compute-begin}
    \State $N_A \gets \{\}$
    \State $updateRanks(V_A, N_A, R_{new}, R, G^{t (T)}, P^T, N^T_P)$
    \State $\Delta R \gets l_{\infty}NormDelta(R_{new}, R)$ \textbf{;} $swap(R_{new}, R)$
    \If{$\Delta R \leq \tau$} \textbf{break}
    \EndIf
    \State $expandAffected(V_A, N_A, G^t, P, N_P, P^T, N^T_P)$
  \EndFor \label{alg:frontier--compute-end}
  \State \ReturnInline{$R$} \label{alg:frontier--return}
\EndFunction
\end{algorithmic}
\end{algorithm}




%% Requires (parameters):
% G(V, E): a directed unweighted graph
% R: initial ranks (1/N for static)

%% Parameter values:
% MAX\_ITERATIONS = 500
% DAMPING\_FACTOR = 0.85
% TOLERANCE = 10^-10
